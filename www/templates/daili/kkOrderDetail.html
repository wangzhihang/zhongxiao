<ion-view view-title="{{title}}" hide-tabs="true" hide-nav-bar="isNoShowHeader">
    <ion-nav-buttons side="left">
        <div ng-click="$ionicGoBack()"><i class="resetBackBtn"></i></div>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <div ui-sref="index_dl"><i class="icon-shouyehui" style="font-size:16px;"></i></div>
    </ion-nav-buttons>
    <ion-content>
        <div class="cen padding" ng-class='{"hide":loading}'>
            <ion-spinner icon="ios-small"></ion-spinner>
        </div>
        <!-- <div class="complexHdTitle bd-b mb-10 pl-15 pr-15 pt-15 pb-15 bgWhite">
			<p>订单编号：{{orderCode}}</p>
			<p class="txt999" style="margin-top:-.25rem;">
				<small>订单状态：{{status}}</small>
			</p>
		</div>
		
		<div class="wrap mb-10 bd-b">
			<div class="hdTitle bd-b">联系人信息</div>
			<ul class="txtInfoList">
				<li class="rowItem">
					<div class="label text-right">联系人：</div>
					<div class="labelForm">{{customer}} </div>
				</li>
				<li class="rowItem">
					<div class="label text-right">联系方式：</div>
					<div class="labelForm">{{contactNumber | telFormat}}</div>
				</li>
			</ul>
		</div>
		
		<div class="wrap bd-b mb-10">
			<div class="hdTitle bd-b">订单信息</div>
			<ul class="txtInfoList">
				<li class="rowItem">
					<div class="label text-right">订购号码：</div>
					<div class="labelForm">{{number | telFormat}}</div>
				</li>
				<li class="rowItem">
					<div class="label text-right">当前套餐：</div>
					<div class="labelForm">{{productName}}</div>
				</li>
				<li class="rowItem">
					<div class="label text-right">套餐活动：</div>
					<div class="labelForm">{{activityName}}</div>
				</li>
				<li class="rowItem">
					<div class="label text-right">订单金额：</div>
					<div class="labelForm">{{amount | currency : '￥'}}</div>
				</li>
				<li class="rowItem">
					<div class="label text-right">来源店铺：</div>
					<div class="labelForm">{{shopName}}</div>
				</li>
				<li class="rowItem">
					<div class="label text-right">下单时间：</div>
					<div class="labelForm">{{createTime | date:"yyyy-MM-dd HH:mm:ss"}}</div>
				</li>
			</ul>
		</div>
		
		<div class="wrap mb-10 bd-b">
			<div class="hdTitle bd-b">人脸比对照片</div>
			<ul class="flexWrap col-2 text-center">
				<li class="flex col-item pl-5 pr-5 pt-5 pb-5 bd-r">
					<img ng-src="{{idCardHeadUrl}}" style="width:auto;max-width:100%;height:10rem;"/>
				</li>
				<li class="flex col-item pl-5 pr-5 pt-5 pb-5">
					<img ng-src="{{customerImageUrl}}" style="width:auto;max-width:100%;height:10rem;"/>
				</li>
			</ul>
		</div>
		<div class="wrapTransparent mt-10 mb-10">
			<button class="btnWhite" ng-click="viewElectronicWorksheets()">查看电子工单</button>
		</div> -->
        <div class="wrap bd-t">
            <div class="pt-15 pb-10">
                <span class="f-15 txt000">产品信息</span>
                <span class="fr produceProgress f-13 {{status | statusColor:'color'}}" style="right:0;border-radius:3px;">{{status | statusColor:'name'}}</span>
            </div>
            <div class="pt-10 pb-10 bd-t">
                <div>
                    <span class="txtBigOrange f-18">{{orderDetail.number}}</span>
                    <span class="txt999 pl-5">{{isCbssVal}}</span>
                    <span class="fr txt999">联通收费 <span class="f-18 txtBigOrange">{{orderDetail.unicommFee | currency : '￥'}}</span></span>
                </div>
                <div class="pt-5 pb-10 f-15">
                    {{orderDetail.productName}}
                </div>
                <div class="pb-10" ng-if="isNoShowActivityName">
                    <p class="pt-5 pb-5 pl-10 pr-10 txt666 bgRemind">{{activityName}}</p>
                </div>
            </div>
            <div class="bd-t">
                <div class="pt-10 pb-10 flexWrap">
                    <span class="detailLeftTopList">首次预存</span>
                    <time class="flexFix pl-20 txt999">{{orderDetail.amount | currency : '￥'}}</time>
                </div>
            </div>
            <div class="bd-t">
                <div class="pt-10 pb-10 flexWrap">
                    <span class="detailLeftTopList">订购时间</span>
                    <time class="flexFix pl-20 txt999">{{orderDetail.createTime | date:"yyyy-MM-dd HH:mm:ss"}}</time>
                </div>
            </div>
            <div class="bd-t" ng-if="status=='000003' && orderDetail.finishDate != null">
                <div class="pt-10 pb-10 flexWrap">
                    <span class="detailLeftTopList">完成时间</span>
                    <time class="flexFix pl-20 txt999">{{orderDetail.finishDate | date:"yyyy-MM-dd HH:mm:ss"}}</time>
                </div>
            </div>
        </div>
        <!-- <div class="pt-20 pl-10 pb-20 pr-10">
            <ul class="flexWrap pl-5 pr-5">
                <li class="flex text-center"><span class="bgBlue pt-5 pl-5 pb-5 pr-5 txtfff bdRadius">补写卡</span></li>
				<li class="flex text-center"><span class="bgBlue pt-5 pl-5 pb-5 pr-5 txtfff bdRadius">补照片</span></li>
				<li class="flex text-center"><span class="bgBlue pt-5 pl-5 pb-5 pr-5 txtfff bdRadius">补缴费</span></li>
                <li class="flex text-center" ng-click="supplySignature()"><span class="bgBlue pt-5 pl-5 pb-5 pr-5 txtfff bdRadius">获取补签名链接</span></li>
            </ul>
        </div> -->
        <div class="ml-5 mr-5 mt-5 wrap">
            <div class="txt000 pt-15 pb-10 f-15 bd-b">用户信息</div>
            <div class="flexWrap pt-10 pb-10">
                <span class="detailLeftTopList">客户姓名</span>
                <span class="flexFix pl-20 txt999">{{orderDetail.customer}}</span>
            </div>
            <div class="bd-t flexWrap pt-10 pb-10">
                <span class="detailLeftTopList">联系方式</span>
                <span class="flexFix pl-20 txt999">{{orderDetail.contactNumber}}</span>
            </div>
            <!-- <div class="bd-t pt-15 pb-15">
				<span>客户地址</span>
				<span class="flexFix pl-20 txt999">没有</span>
			</div> -->
        </div>
        <div class="ml-5 mr-5 mt-5 wrap" ng-show='showUserInfos'>
            <div ng-show='showShopInfo'>
                <div class="txt000 pt-15 pb-10 f-15 bd-b">店铺信息</div>
                <div class="pb-15 flexWrap">
                    <span class="detailLeftTopList">店铺名称</span>
                    <div class="flexFix pl-20 txt999">
                        <p class="txt666">{{shopName}}</p>
                        <p>
                            <span class="txt999 pr-10">{{cRealName}}</span>
                            <span style="color:#74A9DF;">电话 {{cTel}}</span>
                        </p>
                        <p class="txt999">
                            <!-- <span class="txt999 pr-10">工号</span> -->
                            <span style="color:#74A9DF;">工号 {{cUserName}}</span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="bd-t pt-10 pb-10 flexWrap" ng-repeat="item in deveUserList" ng-show='showSalemanInfo'>
                <span class="detailLeftTopList">业务员{{$index+1}}</span>
                <div class="flexFix  pl-20 txt999">
                    <p class="txt666">{{item.realName}}</p>
                    <p class="txt999">{{item.userName}}</p>
                </div>
            </div>
        </div>
        <!-- <div class="ml-5 mr-5 mt-5 wrap bd-b pb-10">
			<div class="txt000 pt-15 pb-15 f-16">报错信息</div>
			<div class="pb-15">
				<span style="padding-left:2.8rem">时间</span>
				<span class="flexFix pl-20 txt999">2017-08-08 19:03:54</span>
			</div>
			<div class="bd-t pt-15 pb-15">
				<span  style="padding-left:2.8rem">节点</span>
				<span class="flexFix pl-20 txt999">CBSS开卡-联通开户</span>
			</div>
			<div class="bd-t pt-15 pb-15 flexWrap">
				<span style="width:25%">错误信息</span>
				<p class="txt999 text-left" style="width:75%">"联通开户失败，失败原因：未将对象引用设置到对象的实例。 在 tms.unicomm.UnicommCustomer.crea</p>
			</div>
		</div> -->
        <div class="ml-5 mr-5 mt-5 wrap bd-b pb-10">
            <ul class="flexWrap col-3 text-center">
                <li class="flex col-item pl-5 pr-5 pt-5 pb-5 bd-r">
                    <img ng-style='imgProp' ng-src="{{orderDetail.idCardHeadUrl}}" style="width:auto;max-width:100%;height:10rem;" />
                </li>
                <li class="flex col-item pl-5 pr-5 pt-5 pb-5 bd-r" ng-click="changePic()">
                    <img ng-style='imgProp' ng-src="{{orderDetail.customerImageUrl}}" style="width:auto;max-width:100%;height:10rem;" />
                </li>
                <li class="flex col-item pl-5 pr-5 pt-5 pb-5">
                    <img ng-style='imgProp' ng-src="{{orderDetail.signUrl}}" ng-hide="showBtn" style="width:auto;max-width:100%;height:10rem;" />
                    <div class="rel" style="height: 100%;" ng-show="showBtn">
                        <div class="reSignBtn bgPrimary txtfff pt-10 pb-10 f-15 border-radiu-5 abs" style="left: 5%;top: 25%;width: 25vw;" ng-click="supplySignature()">补签名</div>
                    </div>
                </li>
            </ul>
        </div>

        <div class="wrapTransparent mt-15 mb-15 mr-15 ml-15" ng-show="hasElectronicWorksheets">

            <button class="btnWhite" ng-click="viewElectronicWorksheets()"><i class="icon-dingdan2" style="vertical-align: text-bottom;"></i>查看电子工单</button>
        </div>
        <div ng-show="isShowMapContainer">
            <div id="mapContainer" class="mb-10 bgWhite txtCenter mapContainer bd"></div>
            <!-- <span class="abs mapConExplain">客户开卡地址</span> -->
        </div>
    </ion-content>
    <!-- <div class="loadingPage" ng-if="hideLoadingPage">
		<div class="loadingAction text-center">
			<ion-spinner icon="spiral" class="spinner-light"></ion-spinner>
			<p class="txt999">页面载入中...</p>
		</div>
	</div> -->
    <div class="bigPic flexWrap" ng-show="isShowBigPic">
        <img ng-src="{{orderDetail.customerImageUrl}}" ng-style="bigPic">
        <div class="abs" style="top:1.5rem;right:1.5rem" ng-click="closeBigPic()">
            <span><i class="icon-guanbi1 f-30" style="color:black;"></i></span>
        </div>
    </div>
</ion-view>